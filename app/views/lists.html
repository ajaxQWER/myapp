<!DOCTYPE html>
<html>

<head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- 避免IE使用兼容模式 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=yes, email=yes" />
    <!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
    <meta name="HandheldFriendly" content="true">
    <!-- 微软的老式浏览器 -->
    <meta name="MobileOptimized" content="320">
    <!-- uc强制竖屏 -->
    <meta name="screen-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <!-- UC强制全屏 -->
    <meta name="full-screen" content="yes">
    <!-- QQ强制全屏 -->
    <meta name="x5-fullscreen" content="true">
    <!-- UC应用模式 -->
    <meta name="browsermode" content="application">
    <!-- QQ应用模式 -->
    <meta name="x5-page-mode" content="app">
    <!-- windows phone 点击无高光 -->
    <meta name="msapplication-tap-highlight" content="no">
    <!-- Color theme for statusbar -->
    <meta name="theme-color" content="#2196f3">
    <!-- Your app title -->
    <title>文章列表</title>
    <!-- Path to Framework7 Library CSS, Material Theme -->
    <link rel="stylesheet" href="/stylesheets/framework7.material.min.css">
    <!-- Path to Framework7 color related styles, Material Theme -->
    <link rel="stylesheet" href="/stylesheets/framework7.material.colors.min.css">
    <link rel="stylesheet" href="/stylesheets/framework7-icons.css">
    <!-- 富文本 -->
    <!-- <link rel="stylesheet" href="stylesheets/medit.css"> -->
    <!-- Path to your custom app styles-->
    <!-- <link rel="stylesheet" href="/stylesheets/usage.css"> -->
    <link rel="stylesheet" href="/stylesheets/lists.css">
</head>

<body class="layout-white theme-teal">
    <!-- Views-->
    <div class="views">
        <!-- Your main view, should have "view-main" class-->
        <div class="view view-main">
            <!-- Top Navbar-->
            <div class="navbar">
                <div class="navbar-inner">
                    <div class="left sliding">
                        <a href="/" class="link back"><i class="icon icon-back"></i><span>返回</span></a>
                    </div>
                </div>
            </div>
            <!-- Pages, because we need fixed-through navbar and toolbar, it has additional appropriate classes-->
            <div class="pages navbar-fixed">
                <!-- Index Page-->
                <div data-page="index" class="page">
                    <div class="page-content">
                        <div class="content-block-title">我发表的文章</div>
                        <div class="list-block">
                            <ul>
                                <% if (topics.length) {%>
                                    <% topics.forEach(function(topic){ %>
                                        <li class="item-content">
                                            <div class="item-inner">
                                                <div class="item-title">
                                                    <a  href="/posts/topic/<%= topic._id%>"><%= topic.title %></a>
                                                </div>
                                                <div class="item-after">
                                                    <a class="update" data-id="<%= topic._id%>">修改</a>
                                                    <a class="delete" data-id="<%= topic._id%>">删除</a>
                                                </div>
                                            </div>
                                        </li>
                                        <% }) %>
                                <%}else{%>
                                    <li class="item-content">
                                        <div class="item-inner">
                                            <div class="item-title">没有发表过文章</div>
                                            <div class="item-after">
                                                <a id="publication">立即发表</a>
                                            </div>
                                        </div>
                                    </li>
                                <%}%>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="popup popup-update">
        <div class="content-block">
            <h2>文章修改</h2>
            <p>标题</p>
            <input type="text" name="topic-title" placeholder="文章标题" maxlength="22" class="topic-title" id="update-title">
            <p>文章内容</p>
            <textarea class="topic-content" id="update-content"></textarea>
            <!-- <p><a href="https://simplemde.com/markdown-guide">*Markdown格式使用说明</a></p> -->
            <div class="buttons-row topic-btn">
                <a class="button button-big button-fill button-raised color-red close-popup" id="cancel">取消修改</a>
                <a class="button button-big button-fill button-raised color-blue" id="update-btn">确定修改</a>
            </div>
        </div>
    </div>
    <!-- Path to Framework7 Library JS-->
    <script type="text/javascript" src="/javascripts/framework7.min.js"></script>
    <!-- 富文本 -->
    <!-- <script type="text/javascript" src="javascripts/medit.js"></script> -->
    <!-- markdown -->
    <!-- <script type="text/javascript" src="/javascripts/markdown.min.js"></script> -->
    <!-- Path to your app js-->
    <script type="text/javascript" src="/javascripts/public.js"></script>
    <script type="text/javascript" src="/javascripts/list.js"></script>
</body>

</html>
